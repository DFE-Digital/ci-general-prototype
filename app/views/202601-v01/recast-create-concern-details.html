{% extends "202601-v01/layouts/main-recast.html" %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% set pageName="Concern details" %}
{% set bodyClasses = "cases-listing-wide" %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <!-- Page Heading -->
    <h1 class="govuk-heading-l">
      <span class="govuk-caption-m">Create a case</span>
      Concern details
    </h1>
    

    <!-- RAG rating and RAG rationale from risk-to-trust page -->
    {% set riskToTrustRatingHtml %}
      {% if data['riskToTrustRating'] == "amber-green" or not data['riskToTrustRating'] %}
        <span class="govuk-tag govuk-tag--yellow">Amber</span><span class="govuk-tag govuk-tag--green">Green</span>
      {% elif data['riskToTrustRating'] == "red-amber" %}
        <span class="govuk-tag govuk-tag--red">Red</span><span class="govuk-tag govuk-tag--yellow">Amber</span>
      {% elif data['riskToTrustRating'] == "red" %}
        <span class="govuk-tag govuk-tag--red">Red</span>
      {% elif data['riskToTrustRating'] == "red-plus" %}
        <span class="govuk-tag" style="background-color: #942514; color: #ffffff;">Red Plus</span>
      {% endif %}
    {% endset %}
    {% set ragRationalePlayback %}
      {% if data['ragRationaleAvailable'] == "no" or not data['ragRationaleAvailable'] %}
        The RAG rationale commentary is not available yet
      {% else %}
        {{ data['ragRationaleCommentary'] or "" }}
      {% endif %}
    {% endset %}

    <!-- Trust, Managed By, Concerns, RAG rating and RAG rationale Summary List -->
    {{ govukSummaryList({
      rows: [
        {
          key: {
            text: "Trust"
          },
          value: {
            html: "City Of London Academies Trust<br>North Wing, Guildhall, Gresham Street, London, EC2V 7HH"
          }
        },
        {
          key: {
            text: "Managed by"
          },
          value: {
            html: "SFSO<br>South London"
          }
        },
        {
          key: {
            text: "Concerns"
          },
          value: {
            html: 'Financial governance <span class="govuk-tag govuk-tag--red" style="margin-left: 8px;">Red</span>'
          }
        },
        {
          key: {
            text: "RAG rating"
          },
          value: {
            html: riskToTrustRatingHtml
          }
        },
        {
          key: {
            text: "RAG rationale commentary"
          },
          value: {
            text: ragRationalePlayback
          }
        }
      ]
    }) }}

    <h2 class="govuk-heading-m">
      Add concern details
    </h2>

    <!-- Action Buttons -->
    <div class="govuk-button-group govuk-!-margin-top-8">
      {{ govukButton({
        text: "Create this case",
        href: "#"
      }) }}
      <a href="#" class="govuk-link">Cancel</a>
    </div>
  </div>
</div>

{% endblock %}
